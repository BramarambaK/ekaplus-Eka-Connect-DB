{
    "_id" : "joinObjects_processor",
    "name" : "joinObjects_processor",
    "type" : "processor",
    "refType" : "app",
    "refTypeId" : "5d907cd2-7785-4d34-bcda-aa84b2158415",
    "snippet" : "var joinObjectsURL = req.body.propertyList.eka_connect_host + \"/data/joinObjects\";\r\nconsole.log(joinObjectsURL);\r\n\r\nvar joinObjectsAPI = {\r\n    method: 'POST',\r\n    url: joinObjectsURL,\r\n    body: {\r\n        \"data\":{\r\n            \"appId1\":\"5d907cd2-7785-4d34-bcda-aa84b2158415\",\r\n            \"objectId1\":\"f7bad03a-8206-4294-80b0-47549f58d163\",\r\n            \"localField\":\"internalContractRefNo\",\r\n            \"appId2\":\"5d907cd2-7785-4d34-bcda-aa84b2158415\",\r\n            \"objectId2\":\"contract\",\r\n            \"foreignField\":\"internalContractRefNo\",\r\n            \"limit\":200\r\n        }\r\n    },\r\n    headers: {\r\n        Authorization: req.headers.authorization,\r\n        \"X-TenantID\": req.headers[\"x-tenantid\"],\r\n        \"Content-Type\": \"application/json\",\r\n        \"ttl\": \"300\"\r\n    },\r\n    json: true\r\n};\r\n\r\nfunction get_joinObjectsAPI() {\r\n    return new Promise(function (resolve, reject) {\r\n        console.log(joinObjectsAPI);\r\n        request(joinObjectsAPI, function (err, response, body) {\r\n            console.log(body);\r\n            if(response.statusCode === 200) {\r\n                resolve(body);\r\n            } else {\r\n                reject(err || body);\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\nget_joinObjectsAPI().then(function (result) {\r\n    console.log(\"Response - \" + JSON.stringify(result));\r\n    res.status(200).send(result);\r\n}).catch(err => {\r\n    console.log(\"Error Executing Processor - joinObjectsAPI\" + err);\r\n    res.status(500).send(err);\r\n});",
    "sys__UUID" : "580512ba-e6bb-46d8-b4e2-38c4d978c5df"
}