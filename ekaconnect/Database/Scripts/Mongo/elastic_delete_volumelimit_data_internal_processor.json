{
  "_id": "elastic_delete_volumelimit_data_internal_processor",
  "name": "elastic_delete_volumelimit_data_internal_processor",
  "refType": "app",
  "refTypeId": "12325a98-a959-4939-9005-4158d136afcd",
  "snippet": " var payloadData = { ...req.body };\r\n    var count = Array.isArray(req.body.bulkPayLoadData) ? req.body.bulkPayLoadData.length : 1;\r\n    if (!Array.isArray(req.body.bulkPayLoadData)) {\r\n      delete payloadData['processorDetails'];\r\n      delete payloadData['propertyList'];\r\n    }\r\n\r\n    var connect_delete_volumelimit_data_internal = {\r\n      method: 'POST',\r\n      url: req.body.propertyList.eka_connect_host + '/workflow',\r\n      headers: {\r\n        Authorization: req.headers.authorization,\r\n        'X-TenantID': req.headers['x-tenantid'],\r\n        requestid: req.headers['requestid'] + '-processor'\r\n      },\r\n      body: {\r\n        output: {\r\n          elastic_deleteVolumeLimitData_internal: Array.isArray(req.body.bulkPayLoadData)\r\n            ? req.body.bulkPayLoadData\r\n            : [payloadData]\r\n        },\r\n        task: 'elastic_deleteVolumeLimitData_internal',\r\n        appId: '12325a98-a959-4939-9005-4158d136afcd',\r\n        workflowTaskName: 'elastic_deleteVolumeLimitData_internal'\r\n      },\r\n      json: true\r\n    };\r\n    function delete_volumelimit_data_internal() {\r\n      return new Promise(function(resolve, reject) {\r\n        // console.log('delete_volumelimit_data_internal Request-' + JSON.stringify(connect_delete_volumelimit_data_internal));\r\n        request(connect_delete_volumelimit_data_internal, function(err, response, body) {\r\n          // console.log('delete_volumelimit_data_internal Response-' + JSON.stringify(body));\r\n          if (response.statusCode === 200) resolve(body);\r\n          else {\r\n            reject(err || body);\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    delete_volumelimit_data_internal()\r\n      .then(() => {\r\n        res.status(200).send({ count: count });\r\n      })\r\n      .catch(err => {\r\n        console.log('delete_volumelimit_data_internal error-', err);\r\n        res.status(500).send(err);\r\n      });",
  "sys__UUID": "790bb0fc-a99f-4cc0-a082-7d60f0fedd2a",
  "type": "processor"
}
