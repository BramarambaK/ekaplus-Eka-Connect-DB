{
    "_id" : "processor_initialsamplingcreate",
    "name" : "initialsamplecreate",
    "type" : "processor",
    "refType" : "app",
    "version" : "V2",
    "refTypeId" : "bcb79287-04fb-4af2-ae97-61af272b2c45",
    "snippet" : "\r\n    if (!req.body.selectedData) {\r\n      var initialsave = {\r\n        method: 'POST',\r\n        url: req.body.propertyList.eka_connect_host + '/workflow',\r\n        headers: {\r\n          Authorization: req.headers.authorization,\r\n          'X-TenantID': req.headers['x-tenantid'],\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: {\r\n          workflowTaskName: 'samplinginstructionagainst',\r\n          task: 'sampleagainstcompositesave1',\r\n          appName: 'sampling',\r\n          appId: 'bcb79287-04fb-4af2-ae97-61af272b2c45',\r\n          output: {\r\n            samplinginstructionagainst: {\r\n              status: 'draft',\r\n              mandatoryFields: 'initial',\r\n              mandatory: 'initial'\r\n            }\r\n          },\r\n          id: '',\r\n          params: {},\r\n          sD: ''\r\n        },\r\n        json: true\r\n      };\r\n      function initialsavefn() {\r\n        return new Promise(function(resolve, reject) {\r\n          // console.log('Request - ' + sales_estimates.url);\r\n          request(initialsave, function(err, response, body) {\r\n            // console.log('Response - ' + JSON.stringify(body));\r\n            if (err || body.error) reject(body);\r\n            else {\r\n              // console.log('Success');\r\n              resolve(body);\r\n            }\r\n          });\r\n        });\r\n      }\r\n      initialsavefn().then(data => {\r\n        success({\r\n            samplingparticularform:{sample_instruction_id: data.data.sample_instruction_id\r\n        }},200);\r\n      });\r\n    } else {\r\n      success({}, 200);\r\n    }\r\n  ",
    "sys__UUID" : "71984217-d333-413a-aec7-c9ab1c42ac6c",
    "sys__createdBy" : "srini@ekaplus.com"
}