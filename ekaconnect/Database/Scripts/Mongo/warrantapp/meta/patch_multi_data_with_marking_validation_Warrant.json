{
  "_id": "patch_multi_data_with_marking_validation_Warrant",
  "name": "patchmultidata_marking_validation",
  "type": "processor",
  "refType": "app",
  "refTypeId": "ada131db-5171-4b9c-b6d6-caae0c6cd2f5",
  "snippet": "\r\n    if (req.body.selectedData.data) {\r\n      const sData = req.body.selectedData.data;\r\n      let validateMap = {\r\n        product: sData[0].product ? sData[0].product : '',\r\n        quality: sData[0].quality ? sData[0].quality : '',\r\n        cropyear: sData[0].cropyear ? sData[0].cropyear : '',\r\n        origin: sData[0].origin ? sData[0].origin : '',\r\n        Profit_Center: sData[0].Profit_Center ? sData[0].Profit_Center : '',\r\n        Strategy: sData[0].Strategy ? sData[0].Strategy : '',\r\n        corporate: sData[0].corporate ? sData[0].corporate : ''\r\n      };\r\n      for (let i = 0; i < sData.length; i++) {\r\n        if (!sData[i]['corporate']) {\r\n          sData[i]['corporate'] = '';\r\n        }\r\n        if (!validateMap['corporate']) {\r\n          validateMap['corporate'] = '';\r\n        }\r\n        if (\r\n          !(\r\n            sData[i]['product'] &&\r\n            sData[i]['product'] == validateMap['product'] &&\r\n            (sData[i]['quality'] && sData[i]['quality'] == validateMap['quality']) &&\r\n            (sData[i]['cropyear'] && sData[i]['cropyear'] == validateMap['cropyear']) &&\r\n            (sData[i]['origin'] && sData[i]['origin'] == validateMap['origin']) &&\r\n            (sData[i]['Profit_Center'] && sData[i]['Profit_Center'] == validateMap['Profit_Center']) &&\r\n            (sData[i]['Strategy'] &&\r\n              sData[i]['Strategy'] == validateMap['Strategy'] &&\r\n              sData[i]['corporate'] == validateMap['corporate'])\r\n          )\r\n        ) {\r\n          res\r\n            .status(500)\r\n            .send(\r\n              'Records should belong to same Product, Corporate, Quality, Crop Year, Storage Location, Profit center & Strategy'\r\n            );\r\n          break;\r\n        }\r\n      }\r\n      req.body['data_transfer'] = req.body.selectedData.data;\r\n      var response = {};\r\n      response = {\r\n        data_transfer: req.body.data_transfer,\r\n        selectedData: req.body.selectedData\r\n      }\r\n      res.status(200).send(response);\r\n    }\r\n ",
  "sys__UUID": "e056968a-7de2-43e3-9fdd-dfe70a043e67",
  "sys__createdBy": "ekauser@ekaplus.com"
}
